<md-dialog flex="60" aria-label="Create Service">
  <form name="sform" novalidate ng-submit="ctrl.submit()" ng-cloak>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>创建业务</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="ctrl.cancel()">
          <md-icon md-svg-src="assets/ic_close_white_24px.svg" aria-label="Close dialog"></md-icon>
        </md-button>
      </div>
    </md-toolbar>

    <md-dialog-content>
      <div class="md-dialog-content" flex>

        <div style="padding-right: 1em;">
          <p>选择目标节点，并输入业务数据，创建业务。</p>
          <div layout-gt-xs="row">
            <md-input-container class="md-block" flex>
              <input ng-required="true"  validate
                     type="number"
                     step="1250"
                     min="0"
                     name="bandwidth"
                     ng-model="task.bandwidth"
                     placeholder="带宽"/>
            </md-input-container>
            <md-input-container class="md-block" flex>
              <input ng-required="true" validate
                     name="rate"
                     type="number"
                     min="0"
                     step="100"
                     ng-model="task.rate"
                     placeholder="速率"/>
            </md-input-container>
          </div>

          <div layout-gt-xs="row">
            <sm-date-time-picker validate
                disable-year-selection="true"
                no-floating-label="false"
                on-focus="true"
                lable="StartAt"
                ng-model="task.startAt"
                flex
                flex-sm="100"
                flex-xs="100"
                is-required="true"
                format="YYYY/MM/DD HH:mm"
                mode="date-time"
                week-start-day="Monday"
                on-focus
            ></sm-date-time-picker>

          </div>
          <div layout-gt-xs="row" flex>
            <md-autocomplete validate
                md-input-name="to"
                md-require-match="true"
                md-selected-item="ctrl.selectedItem"
                md-search-text="ctrl.searchText"
                md-items="item in ctrl.querySearch(ctrl.searchText)"
                md-item-text="item.display"
                md-min-length="0"
                placeholder="输入关键字，选择目标节点..."
                ng-model="task.to"
                flex>
              <md-item-template>
                <span md-highlight-text="ctrl.searchText" md-highlight-flags="^i">{{item.display}}</span>
              </md-item-template>
              <md-not-found>
                No SEP matching "{{ctrl.searchText}}" were found.
              </md-not-found>
            </md-autocomplete>
          </div>
        </div>
      </div>
    </md-dialog-content>

    <md-dialog-actions>
      <md-button type="submit" aria-label="submit" class="md-primary" ng-disabled="sform.$invalid"> 提交 </md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
